extends layout

block script
	script(type='text/javascript').
		$(document).ready(function(){
			// show tweets 
			$.getJSON("/data" ,function(data){
				$.each(data, function(index, element) {
					var output = "";
					output += "<a href='/" + element.id+ "'>" + element.name + "</a>";
					output += "<p>" + element.body + "&nbsp;&nbsp;&nbsp;";
					output += element.date + "</p><hr/>"
					$(output).prependTo($('#tweetBox'));
				});
			});
			// post new tweet
			$('button').click( function(e){
				e.preventDefault();
				$.post("/", {tweet : $('#tweetInput').val() }, function(){
					var text = $('#tweetInput').val();
					var date = new Date();
					var output = "";
					output += "<a href='/#{user.id}'> #{user.name}</a>";
					output += "<p>" + text + "&nbsp;&nbsp;&nbsp;<span>";
					output += "</span>" + date + "</p><hr/>";
					$(output).prependTo($('#tweetBox'));
					$("#tweetInput").val('');
					});
			});
		});
block left

block right